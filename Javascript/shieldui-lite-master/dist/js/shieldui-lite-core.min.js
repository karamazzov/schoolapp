/* Shield UI Lite 1.7.10 | Copyright 2013-2016 Shield UI Ltd. | https://www.shieldui.com */
!function(a,g,l){"use strict";function $(a){var b,c="";a=Math.abs(a);do b=a%26,c=String.fromCharCode(b+97)+c,a=(a-b)/26;while(a>0);return c}function S(){return A+$(O++)}function Z(){return P++}function W(){var b=[8,9,"a","b"],a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-4"+a().substr(0,3)+"-"+b[Math.floor(4*Math.random())]+a().substr(0,3)+"-"+a()+a()+a()}function V(a,b){return typeof Globalize===f&&typeof Globalize.format===f?Globalize.parseDate(a,b):new Date(a)}function T(a){var c;return c=b.defined(a)&&typeof Globalize===f&&typeof Globalize.parseFloat===f?Globalize.parseFloat(a):Number(a),isNaN(c)?null:c}function x(c){if(!b.defined(c)||""===c)return"";var d=/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,a=arguments,e=a&&a.length>1&&typeof a[1]===r,g=typeof Globalize===f&&typeof Globalize.format===f;return c.replace(d,function(i,b){var c,d,f=b.indexOf(":");if(f>0){var h=b;b=h.substring(0,f),d=h.substring(f+1)}return c=e?/^\d+$/.test(b)?a[parseInt(b,10)+1]:D(a[1],b):a[parseInt(b,10)+1],d&&g&&(c=Globalize.format(c,d)),c})}function t(a){if(b.func(a)){var c=[].slice.call(arguments);return c.shift(),a.apply(this,c)}return x.apply(this,arguments)}function K(){return typeof Globalize===f&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function R(){return typeof Globalize===f&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}}function Q(b,a){if(a=a!==l?a:m.dieOnError)throw new Error(b);g.console&&g.console.error&&console.error(b)}function d(a){var b=Object.prototype.toString.call(a);return null===a?"null":a===l?"undefined":b.substr(8,b.length-9).toLowerCase()}function s(f){var g,h,e,i,c,k=Array.apply(null,arguments),m=b.array(f)&&f.length&&!y(f,function(a){return!b.func(a)}).length,d=k[1],n=function(a,b){return a instanceof b};if(!m)return j.apply(a,k);for(b.object(d)||b.array(d)||(d={}),h=2;h<k.length;h++)if(g=k[h])for(e in g)g.hasOwnProperty(e)&&(c=g[e],i=d[e],c&&y(f,z(n,null,c)).length?d[e]=c:b.object(c)||b.array(c)?(b.object(i)||(i=d[e]=b.array(c)?[]:{}),d[e]=s(f,i,c)):b.date(c)?d[e]=new Date(c.getTime()):c!==l&&(d[e]=c));return d}function B(b){var a,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(a);return c}function D(d,a){var c;if(!b.string(a))throw new Error("shield.get: parameter 'path' must be a string.");if(a=G(a),c=I[a])return c(d);try{c=new Function("a","try{return a"+a+"}catch(e){return arguments[1];}")}catch(e){throw new Error("shield.get: invalid 'path' parameter")}return I[a]=c,c(d)}function N(d,a,e){var c;if(!b.string(a))throw new Error("shield.set: parameter 'path' must be a string");if(a=G(a),c=E[a])return c(d,e);try{c=new Function("obj,val","obj"+a+"=val;")}catch(f){throw new Error("shield.set: invalid 'path' parameter")}return E[a]=c,c(d,e),d}function G(g){var d,b,f,a,e,c=g.split(".");for(b=0,f=c.length;f>b;b++)a=c[b],d=a.indexOf("["),a&&(0>d?(e=a.indexOf("'")<0?"'":'"',a=c[b]="["+e+a+e+"]"):d>0&&(a=c[b]="."+a));return c.join("")}function M(b,c){m.ui[b]=c,a.fn[A+b]=function(d){var e,g=this;return typeof d===F?(e=[].slice.call(arguments,1),this.each(function(){var c,h,i=a.data(this,n);if(!i)throw new Error(t("shield: cannot call method '{0}' on uninitialized {1}.",d,b));if(c=i[d],typeof c!==f)throw new Error(t("shield: cannot find method '{0}' of {1}",d,b));return h=c.apply(i,e),h!==l?(g=h,!1):void 0}),g):this.each(function(){var e=new c(this,d);a(this).data(n,e),a(this).data(n+"-"+b,e)})}}function h(a){a?e.onselectstart==h.handler&&(e.onselectstart=h.onselectstart,e.ondragstart=h.ondragstart):e.onselectstart!=h.handler&&(h.onselectstart=e.onselectstart,h.ondragstart=e.ondragstart,e.onselectstart=e.ondragstart=h.handler)}var m=g.shield=g.shield||{},j=a.extend,y=a.grep,z=a.proxy,c=navigator.userAgent,e=document,A="shield",n="shieldWidget",r="object",F="string",f="function",u="array",v="number",J="date",L="boolean",C="null",H="undefined",q=function(){},O=100,P=1e3,i={},I={},E={},o=function(){},U={SVG_NS:"http://www.w3.org/2000/svg",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}};o.extend=function(a){var f,b,c,h,g=this,e=a&&a.init?a.init:function(){g.apply(this,arguments)},i=function(){};i.prototype=g.prototype,f=e.fn=e.prototype=new i;for(b in a)a.hasOwnProperty(b)&&(c=a[b],h=d(c),c&&typeof c===r?f[b]=j(!0,h===u?[]:{},g.prototype[b],c):f[b]=c);return f.constructor=e,e.extend=g.extend,e},Date.prototype.toISOString||!function(){function a(b){var a=String(b);return 1===a.length&&(a="0"+a),a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),a.fn.swidget=function(c){var b=this.map(function(b){return c?a(this).data(n+"-"+c):a(this).data(n)}).get();return b.length?b.length>1?b:b[0]:null};var k=o.extend({init:function(b){var a,d=this,c=(b||{}).events;d.events={},b=b||{};for(a in c)typeof c[a]===f&&d.on(a,c[a])},on:function(a,f,m){var c,l,e,k,g,h=this,j=h.events,d=p.array(a),i=b.func(f);if(b.object(a)){d=[];for(g in a)a.hasOwnProperty(g)&&d.push(g);i=!1,f=a}for(e=0,k=d.length;k>e;e++)a=d[e],c=i?f:f[a],b.func(c)&&(m&&(l=c,c=h._one(a,c)),(j[a]||(j[a]=[])).push(c));return h},_one:function(b,c){var d=this,a=function(){d.off(b,a),c.apply(this,arguments)};return a},one:function(a,b){this.on(a,b,!0)},off:function(a,f){var c,i,e,d,h,j=this,k=j.events,g=p.array(a),l=b.func(f);if(b.object(a)){g=[];for(h in a)a.hasOwnProperty(h)&&g.push(h);l=!1,f=a}for(e=0;e<g.length;e++){if(a=g[e],c=k[a]||[],i=l?f:(f||{})[a])for(d=c.length-1;d>=0;d--)c[d]===i&&c.splice(d,1);else c.length=0;c.length||delete k[a]}return j},trigger:function(e,f){var a,b,c=this,d=(c.events[e]||[]).slice();for(a=0,b=d.length;b>a;a++)d[a].apply(c,[].slice.call(arguments,1));return f},destroy:function(){this.events={}}}),w=o.extend({init:function(c){var a=!1,b=!1;j(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return a},isPropagationStopped:function(){return b},preventDefault:function(){a=!0},stopPropagation:function(){b=!0}},c)}}),X=k.extend({init:function(e,b){var c=this,d=c.constructor;b=b||{},c.element=a(e),c.initialOptions=b,c.options=j(!0,{},d.defaults,(d.themes||{})[b.theme],b),c._iid=Z(),k.fn.init.call(c,b)},getInstanceId:function(){return this._iid},refresh:function(a){this.refreshWithElement(this.element,a)},refreshWithElement:function(b,c){var a=this,d=s([o],a.options,c);a.destroy(),a.init(b,d)},hide:function(){a(this.element).hide()},show:function(){a(this.element).show()},isVisible:function(){return a(this.element).is(":visible")},visible:function(){var a=this,b=[].slice.call(arguments);return b.length>0?void(b[0]?a.show():a.hide()):a.isVisible()},focus:function(){a(this.element).focus()},trigger:function(g,c,h){var d,e=this;return c=b.event(c)?{domEvent:c}:c,!c||!c.domEvent||c.domEvent instanceof a.Event||(c.domEvent=a.Event(c.domEvent)),d=new w(j({type:g,target:e},c)),k.fn.trigger.call(e,g,d),typeof h!==f||d.isDefaultPrevented()||h.call(e,d),d}}),Y=k.extend({options:{total:0,pageBuffer:2,createContainer:q,getItems:q,eventNS:".shieldVirtualized",skipRender:!1},init:function(d,c){var b=this;c=b.options=j({},b.options,c),b.element=a(d),k.fn.init.call(b,c),c.skipRender||b.render()},_elements:function(){var c,e,b=this,f=b.element,d=b.options;c=b.wrapper=f.off(d.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+d.eventNS,z(b.scroll,b)).append("<div class='sui-virtualized' />").find(".sui-virtualized").css({position:"relative",overflow:"visible"}),e=b.container=a(d.createContainer(c)),c.children().css({position:"absolute",top:0})},_dimensions:function(){var c=this,d=c.options,e=d.total,a=d.itemHeight,f=Math.min(e*a,m.support.maxElementHeight),b=c.element.height(),g=Math.ceil(b/a),h=g*a,i=f-b;return{total:e,itemHeight:a,totalHeight:f,viewportHeight:b,itemsPerPage:g,pageHeight:h,totalScrollableHeight:i}},render:function(){var b,a=this,d=a.element,c=a.options;a._elements(),a.prevScroll=0,b=a.dimensions=a._dimensions(),d.find(".sui-virtualized").height(b.totalHeight),a._renderItems(0,Math.min(c.total,(c.pageBuffer+1)*b.itemsPerPage))},scroll:function(){var e,h,i,b=this,m=b.options,d=m.pageBuffer,a=b.dimensions,f=b.element.scrollTop(),p=b.prevScroll,j=f-p,g=f/a.totalScrollableHeight,k=b.wrapper.children(),l=parseFloat(k.css("top"))||0,c=f-g*(a.pageHeight-a.viewportHeight),o=j>0&&c-l>(d/4+1)*a.pageHeight,n=0>j&&c-l<=d/4*a.pageHeight;(n||o)&&(h=Math.floor(g*a.total-g*a.itemsPerPage),e=Math.max(0,h-d/2*a.itemsPerPage),i=Math.min(a.total,e+(d+1)*a.itemsPerPage),c=Math.max(0,c-(h-e)*a.itemHeight),b._renderItems(e,i,function(){k.css("top",c)})),b.prevScroll=f},_renderItems:function(f,g,d){var a,e,c=this,h=c.options;h.getItems(f,g,function(g,f){for(f=b.defined(f)?!!f:!0,f&&c.container.empty(),a=0,e=g.length;e>a;a++)c.container.append(g[a]);d&&d()})},destroy:function(){var a=this,b=a.options;a.element.off(b.eventNS),a.element=null,b.createContainer=q,b.getItems=q,k.fn.destroy.call(a)}}),b={string:function(a){return d(a)===F},number:function(a){return d(a)===v},integer:function(a){return d(a)===v&&/^[\+\-]?\d+$/.test(a+"")},"float":function(a){return d(a)===v&&/^[\+\-]?\d+\.\d+$/.test(a+"")},func:function(a){return d(a)===f},object:function(a){return d(a)===r},array:function(a){return d(a)===u},date:function(a){return d(a)===J},"boolean":function(a){return d(a)===L},"null":function(a){return d(a)===C},undefined:function(a){return d(a)===H},defined:function(a){return a!==l&&null!==a},event:function(a){return typeof g.Event==f&&a instanceof g.Event||a&&a.altKey!==l}},p={"int":function(a,b){return parseInt(a,b||10)},"float":function(a){return parseFloat(a)},number:function(a){return T(a+"")},array:function(a){return a instanceof Array?a:a!==l?[a]:[]},string:function(a){return a+""},key:function(b){var g,c,e,f,h=d(b);switch(h){case C:case H:return h;case r:return g=B(b).sort(),c=[],a.each(g,function(d,a){c.push(a+":"+p.key(b[a]))}),"{"+c.join(",")+"}";case u:for(c="[",e=0,f=b.length;f>e;e++)c+=p.key(b[e]),f-1>e&&(c+=",");return c+="]";case J:return b.toISOString();default:return b+""}}};!function(){i.stableSort=function(){var a="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==a.split("").sort(function(b,c){return~~(a.indexOf(c)/2.3)-~~(a.indexOf(b)/2.3)}).join("")}(),i.scrollbar=function(){var b,a=e.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",a.innerHTML="&nbsp;",e.body.appendChild(a),b=a.offsetWidth-a.scrollWidth,e.body.removeChild(a),b},i.isRtl=function(b){return a(b).closest(".sui-rtl").length>0},i.transitions=function(){var a,c=(e.body||e.documentElement).style,d="Transition",f=["Moz","webkit","Webkit","Khtml","O","ms"];if(b.string(c[d.toLowerCase()]))return!0;for(a=0;a<f.length;a++)if(b.string(c[f[a]+d]))return!0;return!1}()}(),function(){m.rAF=function(a){return(g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||function(a){return this.setTimeout(a,1e3/60)}).call(g,a)},m.cAF=function(a){return(g.cancelAnimationFrame||g.clearTimeout)(a)}}(),function(){var b=/MSIE/i.test(c),d=/Trident/i.test(c),e=/Firefox/i.test(c),f=/Opera/i.test(c),g=/Safari/i.test(c),a=/Chrome/i.test(c),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);i.browser={ie:b||d,firefox:e,opera:f,safari:!a&&g,chrome:a,mobile:h,version:b?parseInt(c.substr(c.indexOf("MSIE ")+5),10):d?parseInt(c.substr(c.indexOf("rv:")+3),10):e?parseInt(c.substr(c.indexOf("Firefox/")+8),10):f?parseInt(c.substr(c.indexOf("Version/")+8),10):a?parseInt(c.substr(c.indexOf("Chrome/")+7),10):g?parseInt(c.substr(c.indexOf("Version/")+8),10):0}}(),a(function(){for(var b,f=1e6,g=i.browser.firefox?6e6:1e9,c=a("<div style='display:none' />").appendTo(e.body),d=f;;){if(b=d+f,c.css("height",b),b>g||c.height()!==b)break;d=b}c.remove(),i.maxElementHeight=d}),h.handler=function(){return!1},j(m,{Class:o,Dispatcher:k,Event:w,Constants:U,format:t,formatString:x,parseDate:V,getCalendarInfo:K,getCurrencyInfo:R,error:Q,dieOnError:!0,strid:S,guid:W,support:i,extend:s,selection:h,type:d,is:b,to:p,keys:B,get:D,set:N,ui:j({},m.ui||{},{Widget:X,VirtualizedContainer:Y,plugin:M})})}(jQuery,this),function(c,h,T,f){"use strict";function t(b,c){var a,d,e=[];if(b.map)return b.map(c);for(a=0,d=b.length;d>a;a++)e[a]=c(b[a],a,b);return e}function x(c,e,b,h,i){var a=g(c,e);return a===f?b&&(a=d.def(b,h,i!==!1)):a=d.convert(a,b),a}var O,P,p,e,u,b,y,q,r,J,G,F,E,d,n=h.Class,m=h.Dispatcher,K=Math.min,A=Math.max,a=h.is,z=h.to,g=h.get,B=h.set,o=(h.support,h.type),L=function(){},i=c.extend,k=c.proxy,j=c.each,C=c.grep,I=c.inArray,v=c.Deferred,w="function",D="array",M="object",R="string",l="change",s="error",Q="start",N="complete",S="save",H="afterset";O=n.extend({init:function(a){this.data=a},read:function(b,a,c){return a(this.data)},modify:function(b,a,c){a()}}),P=n.extend({init:function(a,b){this.options=a,this.cache=b},read:function(d,e,h){var g,k=this.options,b=k.read,j=this.cache;return a.func(b)?void b(d,e,h):(b=a.string(b)?{url:b}:i(!0,{},b),a.func(b.data)&&(d=b.data(d)),g=j.get(d),void(g!==f?e(g,!0):(b.data=d,b.error=h,b.success=function(a){j.set(d,a),e(a)},c.ajax(b))))},modify:function(h,m,o){var d,b,l,f,e,p=this.options,j=p.modify||{},n=["create","update","remove"],q=["added","edited","removed"],g=[],r=function(a){return a.data};if(a.func(j))return void j(h,m,o);for(e=0;e<n.length;e++)l=n[e],f=q[e],b=j[l],h[f].length?(a.string(b)&&(b={url:b,type:"POST"}),a.func(b)?(d=g[e]=new v,b(h[f],k(d.resolve,d),k(d.reject,d))):a.object(b)?(b=i(!0,{},b),a.func(b.data)?b.data=b.data(h[f]):(b.data={},b.data[f]=t(h[f],r)),d=g[e]=c.ajax(b)):(d=g[e]=new v,d.resolve())):(d=g[e]=new v,d.resolve());c.when.apply(c,g).then(m,o)}}),p=n.extend({init:function(){this.values={}},get:function(a){return this.values[z.key(a)]},set:function(b,a){return this.values[z.key(b)]=a,a},remove:function(b){var a=z.key(b),c=this.values[a];return delete this.values[a],c},clear:function(){this.values=[]}}),p.noop={get:L,set:L},u=n.extend({init:function(b,c){a.object(b)?b=z.array(b):a.string(b)&&(b=[{path:b,desc:!!c}]),this._expr=b},build:function(){var b=this._expr,c=u.cache;return a.func(b)?function(a){return function(b,c){var d=a(b.item,c.item);return 0!==d?d:b.index-c.index}}(b):a.array(b)?c.get(b)||c.set(b,function(b){return function(k,l){var i,e,f,h,m,c,d,j;for(h=0,m=b.length;m>h;h++)if(c=k.item,d=l.item,i=b[h]||{},e=i.path,f=i.desc?-1:1,a.string(e)?(c=g(c,e),d=g(d,e)):a.func(e)&&(c=e(c),d=e(d)),a.date(c)&&(c=c.getTime()),a.date(d)&&(d=d.getTime()),c!==d&&(null!=c||null!=d)){if(null==c)return-1*f;if(null==d)return 1*f;if(a.number(c)&&a.number(d)||(c=c.toString(),d=d.toString()),c.localeCompare){if(j=c.localeCompare(d),0===j)continue;return j*f}if(c>d)return 1*f;if(d>c)return-1*f}return k.index-l.index}}(b)):void 0}}),u.cache=new p,b=n.extend({init:function(a){this._expr=a||[]},build:function(){var c=this,e=b.cache,d=c._expr,a=c._func||(c._func=e.get(d));return a||(a=c._buildRecursive(d,!0),a&&e.set(d,a)),a},_single:function(c){var d;if(c){if(a.func(c.filter))return c.filter;if(d=b.filters[b.filterAliases[c.filter]])return function(a,b,c,d){return function(e){return b(g(e,a),c,d)}}(c.path,d,c.value,c.sensitive)}},_multiple:function(a,b){return function(e){var c,d=!0,f=a.length;for(c=0;f>c;c++)if(d=a[c](e),b){if(!d)break}else if(d)break;return d}},_buildRecursive:function(b,g){var c,f,d=this,e=[];if(a.array(b)){for(c=0,f=b.length;f>c;c++)e.push(d._buildRecursive(b[c]));return e.length>1?d._multiple(e,g):e[0]}return b.and||b.or?d._buildRecursive(b.and||b.or,!!b.and):d._single(b)}}),b.cache=new p,b.normalize={equatable:function(c,d,e){return a.date(c)?{a:c.getTime(),b:new Date(d).getTime()}:b.normalize.string(c,d,e)},string:function(a,b,c){return{a:c?a+"":(a+"").toLowerCase(),b:c?b+"":(b+"").toLowerCase()}},scalar:function(b,c){return a.date(b)?{a:b.getTime(),b:new Date(c).getTime()}:isNaN(parseFloat(b))?{a:b,b:c}:{a:parseFloat(b),b:parseFloat(c)}}},b.filters={eq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a===a.b},neq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a!==a.b},con:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)>-1},notcon:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)<0},starts:function(c,d,e){var a=b.normalize.string(c,d,e);return 0===a.a.indexOf(a.b)},ends:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)===a.a.length-a.b.length},gt:function(c,d){var a=b.normalize.scalar(c,d);return a.a>a.b},lt:function(c,d){var a=b.normalize.scalar(c,d);return a.a<a.b},gte:function(c,d){var a=b.normalize.scalar(c,d);return a.a>=a.b},lte:function(c,d){var a=b.normalize.scalar(c,d);return a.a<=a.b},isnull:function(a){return null==a},notnull:function(a){return null!=a}},b.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},y=n.extend({init:function(){},build:function(b){var d=this,c=y.cache,a=c.get(b);return a||(a=d._build(b),a&&c.set(b,a)),a},_build:function(e){if(!e)return null;var g=e.field,c=e.aggregate,b=e.type||Number,h=function(a){return a===f?d.def(b):d.convert(a,b)};return a.func(c)?c:"count"==c?function(a){return a.length}:"sum"==c?function(e){var c,d,f=0,i=e.length;for(c=0;i>c;c++)d=x(e[c],g,b),f+=b==Date&&a.date(d)?d.getTime():d;return h(f)}:"average"==c?function(e){var c,d,f=0,i=e.length;for(c=0;i>c;c++)d=x(e[c],g,b),f+=b==Date&&a.date(d)?d.getTime():d;return h(f/i)}:"min"==c?function(a){return h(K.apply(null,t(a,function(a){return x(a,g,b)})))}:"max"==c?function(a){return h(A.apply(null,t(a,function(a){return x(a,g,b)})))}:f}}),y.cache=new p,e=n.extend({init:function(c,d,f,g,e){var b=this;b.data=c,b.total=null!=d?d:c?c.length:0,b.aggregates=f,b.groups=g,b.indices=a.array(e)?e.slice(0):t(c||[],function(b,a){return a})},filter:function(k){var c,h,f,a=this,i=new b(k).build(),g=a.data,d=[],j=[];if(i){for(c=0,h=g.length;h>c;c++)f=g[c],i(f)&&(d.push(f),j.push(a.indices[c]));a.indices=j}else d=g.slice(0);return new e(d,d.length,a.aggregates,a.groups,a.indices)},aggregate:function(c){var d,f,g,h,b=this,k=new y,j=b.data;for(a.array(c)||(c=[c]),b.aggregates=[],d=0;d<c.length;d++)f=c[d],g=k.build(f),g&&(h=g(j,f)),b.aggregates.push(i({},f,{value:h}));return new e(j.slice(0),b.total,b.aggregates,b.groups,b.indices)},aggregateGroups:function(c){var a=this,b=a.data.slice(0),d=new e(a._getInnerMostItems(b),null,null,null,null).aggregate(c);return new e(b,a.total,d.aggregates,a.groups,a.indices)},_getInnerMostItems:function(b){var a=[];return j(this._getInnerMostGroups(b),function(c,b){a=a.concat(b.items)}),a},_getInnerMostGroups:function(c){var b=this,a=[];return j(c||[],function(d,c){a=a.concat(b._hasInnerGroups(c)?b._getInnerMostGroups(c.items):c)}),a},_hasInnerGroups:function(b){return b&&b.items&&b.items.length>0?b.items[0].field&&a.array(b.items[0].items):!1},group:function(c){var d,b=this,f=b.data.slice(0);return a.array(c)||(c=[c]),c.length>0&&(d=b._groupData(c,f,b.indices),f=d[0],b.indices=d[1]),new e(f,b.total,b.aggregates,b.groups,b.indices)},_groupData:function(B,y,q){var r,k,o,b,d,z=this,c=[],m=[],l=B.slice(0),h=l.shift(),x=h.field,t=h.aggregate,v=h.order,w={};if(j(y,function(d,b){k=g(b,x),o=w[k],a.defined(o)?c[o].items.push({item:b,index:q[d]}):(w[k]=c.length,c.push(i({},h,{value:k,items:[{item:b,index:q[d]}]})))}),v&&(r=new u("value","desc"==v).build())){for(b=0;b<c.length;b++)c[b]={item:c[b],index:b};for(c.sort(r),b=0;b<c.length;b++)c[b]=c[b].item}for(b=0;b<c.length;b++)for(d=0;d<c[b].items.length;d++)m.push(c[b].items[d].index),c[b].items[d]=c[b].items[d].item;if(t&&j(c,function(a,b){c[a].aggregate=new e(b.items).aggregate(t).aggregates}),l&&l.length>0){var p=0,n=[];for(b=0;b<c.length;b++){var f=c[b],A=m.slice(p,p+(f.items?f.items.length:0)),s=z._groupData(l,f.items,A);c[b].items=s[0],n=n.concat(s[1]),p+=f.items?f.items.length:0}m=n}return[c,m]},sort:function(h,i){var a,b=this,f=new u(h,i).build(),c=b.data.slice(0),d=[],g=c?c.length:0,j=b.indices;if(f){for(a=0;g>a;a++)d.push({index:j[a],item:c[a]});for(d.sort(f),a=0;g>a;a++)c[a]=d[a].item,b.indices[a]=d[a].index}return new e(c,b.total,b.aggregates,b.groups,b.indices)},sortGroups:function(g,h){var b,a=this,f=a.data.slice(0),c=[],d=0;return b=function(f){if(a._hasInnerGroups(f))j(f.items,function(c,a){b(a)});else{var i=new e(f.items,null,null,null,a.indices.slice(d,d+(f.items?f.items.length:0))).sort(g,h);f.items=i.data,c=c.concat(i.indices),d+=f.items?f.items.length:0}},j(f,function(c,a){b(a)}),new e(f,a.total,a.aggregates,a.groups,c)},_sliceGroups:function(f,g,b,c){var d,l=this,h=0,i=[],e=[],k=a.defined(c);return 0!==b||k?(d=function(i){if(l._hasInnerGroups(i)){var q=[],r=0;return j(i.items,function(c,a){var b=d(a);b>0&&(q.push(a),r+=b)}),i.items=q,r}var m,n,f=h,o=i.items.length,p=f+o-1;return k?c-1>=p?p>=b&&(m=A(0,b-f),n=o):c-1>=f&&p>=b&&(m=A(0,b-f),n=K(o,c-f)):f>=b?(m=0,n=o):b>=f&&p>=b&&(m=A(0,b-f),n=o),a.defined(m)&&a.defined(n)&&n>m?(i.items=i.items.slice(m,n),e=e.concat(g.slice(f+m,f+n))):i.items=[],h+=o,i.items.length},j(f,function(c,a){var b=d(a);b>0&&i.push(a)}),[i,e]):[f.slice(0),g.slice(0)]},skip:function(b){var a=this;return new e(a.data.slice(b),a.total,a.aggregates,a.groups,a.indices.slice(b))},skipGroups:function(c){var a=this,b=a._sliceGroups(a.data,a.indices,c);return new e(b[0],a.total,a.aggregates,a.groups,b[1])},take:function(b){var a=this;return new e(a.data.slice(0,b),a.total,a.aggregates,a.groups,a.indices.slice(0,b))},takeGroups:function(c){var a=this,b=a._sliceGroups(a.data,a.indices,0,c);return new e(b[0],a.total,a.aggregates,a.groups,b[1])}}),e.create=function(c,a,d,f,g){a=a||{};var b=new e(c,d,f,g),h=a.remoteOperations||[],i=h.join(" "),j=i.indexOf("group")>-1;return a.group||j?(a.group?(a.filter&&(b=b.filter(a.filter)),b=b.group(a.group)):b.data=b.groups,a.aggregate&&(b=b.aggregateGroups(a.aggregate)),a.sort&&(b=b.sortGroups(a.sort)),a.skip&&(b=b.skipGroups(a.skip)),a.take&&(b=b.takeGroups(a.take))):(a.filter&&(b=b.filter(a.filter)),a.aggregate&&(b=b.aggregate(a.aggregate)),a.sort&&(b=b.sort(a.sort)),a.skip&&(b=b.skip(a.skip)),a.take&&(b=b.take(a.take))),b},q=m.extend({init:function(d){var b=this,c=b.options=a.array(d)?{data:d}:d||{},e=c.schema||{},f=q.schemas[e.type||"json"];b.data=null,b.filter=c.filter,b.sort=c.sort,b.skip=c.skip,b.take=c.take,b.group=c.group,b.aggregate=c.aggregate,b.schema=new f(e),b.remote=c.remote,b.cache=new p,m.fn.init.call(b,c)},trigger:h.ui.Widget.fn.trigger,_client:function(){var b=this,c=b.remote;return a.object(c)?new P(c,c.cache?b.cache:p.noop):new O(b.options.data)},_params:function(){var a,b=this,d=["filter","aggregate","group","sort","skip","take"],e=b.remote,f=b._remoteOperations().join(" "),c={local:{},remote:{}};return j(d,function(g,d){a=b[d],null!=a&&(e&&f.indexOf(d)>-1?c.remote[d]=a:c.local[d]=a)}),c},_remoteOperations:function(){var a=this.remote;return a&&a.read?a.read.operations||a.operations||[]:[]},_success:function(d,e,f,c){var a=this,g=a.schema,b=g.process(f);a.data=b.data,a._createView(b.data,e,b.total,b.aggregates,b.groups),d.resolve(a.view,!!c),a.trigger(N),a.trigger(l,{fromCache:!!c})},_createView:function(c,d,f,g,h){var a=this,b=e.create(c,i({},d||a._params().local,{remoteOperations:a._remoteOperations()}),f,g,h);a.view=b.data,a.total=b.total,a._indices=b.indices,a.aggregates=b.aggregates},_error:function(c,d,e,a){var b=this;c.reject(a),d&&b.trigger(N),b.trigger(s,{errorType:"transport",error:a,operation:e})},read:function(){var a=this,b=new v,c=a._params(),d=a.trigger(Q,{params:c});return d.isDefaultPrevented()?b.resolve():(a.cancel(),a._client().read(c.remote,k(a._success,a,b,c.local),k(a._error,a,b,!0,"read"))),b.promise()},_ensureTracker:function(){var b=this,c=b.tracker,d=b.data;if(!c){if(!d||!a.array(d))throw new Error("shield.DataSource: cannot modify when no data array is available.");c=b.tracker=new E({data:d,model:b.schema.model,events:{change:function(a){b._createView(b.data),a&&a.afterset||b.trigger(l)},error:function(a){b.trigger(s,{errorType:"tracker",path:a?a.path:"undefined path",value:a?a.value:"undefined value",error:a?a.reason:"undefined error",model:a?a.target:"undefined target model"})}}}),b.data=c.data}},add:function(a){return this._ensureTracker(),this.tracker.add(a)},insert:function(a,b){return this._ensureTracker(),this.tracker.insert(a,b)},remove:function(a){return this._ensureTracker(),this.tracker.remove(a)},removeAt:function(a){return this._ensureTracker(),this.tracker.removeAt(a)},edit:function(a){return this._ensureTracker(),this.tracker.edit(a)},insertView:function(a,b){return this._ensureTracker(),this.tracker.insert(this._indices[a],b)},removeAtView:function(a){return this._ensureTracker(),this.tracker.removeAt(this._indices[a])},editView:function(a){return this._ensureTracker(),this.tracker.edit(this._indices[a])},save:function(f){var g,h,e,i,b=this,c=b.tracker,j=c?c.changes:{added:[],edited:[],removed:[]},m=c&&b.trigger(S,{changes:j}),d=new v;if(f=a.defined(f)?!!f:!0,m&&!m.isDefaultPrevented()){for(g=b.data=c.original,h=c.data,g.length=0,e=0;e<h.length;e++)g[e]=h[e];b.options.data&&!a.func(b.options.data)&&d.done(k(b._syncLocalData,b)),b._client().modify(j,k(d.resolve,d),k(b._error,b,d,!1,"save")),c.destroy(),c=b.tracker=null}else d.resolve(j);return f&&(i=function(){b._createView(b.data),b.trigger(l)},d.then(i,i)),d.promise()},_syncLocalData:function(){var b,c=this,d=c.schema,f=(d.options.fields,c.data),e=(c.options.data,[]),g=a.array(d.getReverseDataFirstItem(c.options.data));for(b=0;b<f.length;b++)e[b]=g?[]:{},d.reverseFields(f[b],e[b]);d.reverseData(e,c.options.data)},cancel:function(){var b=this,a=b.tracker,c=a&&(a.changes.added.length||a.changes.edited.length||a.changes.removed.length);a&&(b.data=a.original,a.destroy(),a=b.tracker=null,c&&(b._createView(b.data),b.trigger(l)))},destroy:function(){var a,b=this,c=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(b.cancel(),b.cache.clear(),a=0;a<c.length;a++)delete b[c[a]];m.fn.destroy.call(b)}}),q.create=function(a,b){return a instanceof q?a:new q(i({},a,b))},r=n.extend({init:function(a){this.options=a},parse:function(b){var d=this.options.parse;if(a.func(d))return d(b);if(a.string(b))try{b=c.parseJSON(b)}catch(e){}return b},data:function(c){var b=this.options.data;return a.func(b)?b(c):a.string(b)?g(c,b):c},aggregates:function(c){var b=this.options.aggregates;return a.func(b)?b(c):a.string(b)?g(c,b):f},groups:function(c){var b=this.options.groups;return a.func(b)?b(c):a.string(b)?g(c,b):f},reverseData:function(d,b){var c,e=this.options.data;if(a.func(e))e(d,b);else if(a.string(e))B(b,e,d);else if(a.array(b))for(b.length=0,c=0;c<d.length;c++)b[c]=d[c]},getReverseDataFirstItem:function(c){var b=this.data(c);return a.array(b)&&b.length>0?b[0]:f},total:function(b,d){var c=this.options.total;return b=b||[],d=d||[],a.func(c)?c(b):a.string(c)?g(b,c):d.length},fields:function(a){var b=this,c=b.options.fields,e=b.model=d.define(c);return c?t(a,function(a){return r.mapFields(a,e.fn.fields)}):a},reverseFields:function(){var c,d,b,j=this,e=j.options.fields,f=[].slice.call(arguments),g=f[0],i=f.length<=1,h=i?g:f[1];for(b in e)e.hasOwnProperty(b)&&(c=e[b],d=g[b],a.string(c.path)?B(h,c.path,d):a.func(c.path)?c.path(g,d):h[b]=d,i&&delete h[b])},process:function(b){var a=this,c=a.parse(b),d=(a.aggregates(b),a.groups(b),a.fields(a.data(c)));return{data:d,total:a.total(c,d)}}}),r.mapFields=function(e,i){var h,b,c,j={};e=e||{};for(h in i)i.hasOwnProperty(h)&&(b=i[h],a.string(b.path)?(c=g(e,b.path),c===f&&(c=g(e,h))):c=a.func(b.path)?b.path(e):e[h],c===f?b.type&&(c=d.def(b.type,b.def,b.nullable!==!1)):c=d.convert(c,b.type),j[h]=c);return j},J=r.extend({parse:function(b){var d=this,e=d.options;if(a.func(e.parse))b=e.parse(b);else if(a.string(b))try{b=c.parseXML(b)}catch(f){}return b&&9===b.nodeType&&(b=d._json(d._root(b))),b},_root:function(d){var a,c,b=d.childNodes;for(a=0,c=b.length;c>a;a++)if(1===b[a].nodeType)return b[a];return null},_json:function(g){var b,d,e,h,c={},i={},f="";for(e=0,h=g.attributes.length;h>e;e++)b=g.attributes[e],c["_"+b.nodeName]=b.nodeValue;for(e=0,h=g.childNodes.length;h>e;e++)switch(b=g.childNodes[e],d=b.nodeName,b.nodeType){case 1:i[d]?(a.array(c[d])||(c[d]=[c[d]]),c[d].push(this._json(b))):(c[d]=this._json(b),i[d]=!0);break;case 3:f+=b.nodeValue;break;case 4:c._cdata=b.nodeValue}return f=f.replace(/^\s+(.*)\s+$/gim,"$1"),f&&(c._text=f),c}}),G=r.extend({parse:function(d){var e,b=this.options,h=b.parse,f=c(d),g=[],i=[];if(a.func(h))return h(d);if(b.result)return b.result;if(!f[0]||"table"!==f[0].tagName.toLowerCase())return d;f.eq(0).find("thead th").each(function(){i.push(c(this).text())}).end().find("tbody tr").each(function(){e={},c(this).children().each(function(a){e[i[a]]=c(this).text()}),g.push(e)});return b.result=g,g}}),F=r.extend({parse:function(d){var b=this.options,g=b.parse,e=c(d),f=[];return a.func(g)?g(d):b.result?b.result:e[0]&&"select"===e[0].tagName.toLowerCase()?(e.find("option").each(function(b){var a=c(this);f.push({value:a.attr("value"),text:a.text(),selected:a.is(":selected")})}),b.result=f,f):d}}),q.schemas={json:r,xml:J,table:G,select:F},E=m.extend({init:function(a){var b=this;b.original=a.data,b.data=Array.apply(null,a.data),b.model=a.model,b.changes={added:[],edited:[],removed:[]},m.fn.init.call(this,a)},_model:function(c){var a=this,b=new a.model(c);return b.on(l,k(a.trigger,a,l)),b.on(s,k(a.trigger,a,s)),b.on(H,function(){a.trigger(l,{afterset:!0})}),b},add:function(a){return this.insert(this.data.length,a)},insert:function(b,e){var a,c=this,d=c.data,f=c.changes;if(0>b||b>d.length)throw new Error("shield.DataSource: invalid item index.");return a=c._model(e),f.added.push(a),d.splice(b,0,a.data),c.trigger(l,{operation:"add",index:b,model:a}),a},edit:function(a){var b,d=this,c=d.data,e=d.changes;if(isNaN(a)||0>a||a>=c.length)throw new Error("shield.DataSource: invalid item index.");return(b=C(e.added.concat(e.edited),function(b){return b.data===c[a]})[0])?b:(b=d._model(c[a]),e.edited.push(b),c[a]=b.data,b)},remove:function(c){var a=this,e=a.changes,f=C(e.added.concat(e.edited),function(a){return a===c})[0],b=-1;return c instanceof d?f&&(b=I(f.data,a.data)):b=I(c,a.data),b>-1?a.removeAt(b):void 0},removeAt:function(a){var c=this,d=c.data,e=c.changes,b=C(e.added.concat(e.edited),function(b){return b.data===d[a]})[0];if(0>a||a>d.length)throw new Error("shield.DataSource: invalid item index.");return b?b.destroy():b=new c.model(d[a]),e.removed.push(b),d.splice(a,1),c.trigger(l,{operation:"remove",index:a,model:b}),b},destroy:function(){var b,c=this,a=c.changes,d=a.added.concat(a.edited).concat(a.removed);for(b=0;b<d.length;b++)d[b].destroy();
a.added.length=a.edited.length=a.removed.length=0,c.data=null,c.original=null,m.fn.destroy.call(c)}}),d=m.extend({init:function(b,c){var a=this;m.fn.init.call(a,c),a.fields=i(!0,{},a.constructor.prototype.fields),a.data=i(!0,{},b)},trigger:h.ui.Widget.fn.trigger,get:function(a){return g(this.data,a)},set:function(c,a){var b=this;a=b.validate(c,a),a!==f&&(B(b.data,c,a),b.trigger(H))},validate:function(e,a){var c,h,i=this,b=g(i.fields,e);if(!b)return a;if(o(b.validator)===w)c=b.validator;else if(o(b.type.validate)===w)c=b.type.validate;else{var j=b.type.toString().split("(")[0].split(" ")[1].toLowerCase();c=d.validators[j]}if(c){if(h=c(a),h===f)return void i.trigger(s,{errorType:"validation",path:e,value:a,error:"validation error"});a=h}return null===a&&b.nullable===!1?void i.trigger(s,{errorType:"validation",path:e,value:a,error:"null value not allowed"}):a}}),d.define=function(a){return d.extend({fields:d.normalize(i(!0,{},a))})},d.normalize=function(a){var b,c,d;a=a||{};for(b in a)a.hasOwnProperty(b)&&(c=a[b],d=o(c),d===w?a[b]={type:c}:d===D?a[b]={type:c}:d===R&&(a[b]={path:c}));return a},d.def=function(a,b,d){var c;return b!==f?o(b)===w?b():b:d?null:a===String?"":a===Number?0:a===Date?null:a===Boolean?!1:a===Array?[]:a===Object?{}:(c=o(a),c===D?[]:c===M?{}:c===w?a():null)},d.convert=function(b,d){var c;return null==b?b:d===String?b.toString():d===Number?(c=parseFloat(b),isNaN(c)?b:c):d===Date?(c=new Date(b),isNaN(c.getTime())?b:c):d===Boolean?a.string(b)?!/^(false|0)$/i.test(b):!!b:b},d.validators={string:function(a){return null==a?null:a.toString()},number:function(a){return null===a?null:isNaN(+a)?f:+a},date:function(a){return null===a?null:a instanceof Date?a:(a=new Date(a),isNaN(a.getTime())?f:a)},"boolean":function(a){return null===a?null:null==a?f:!!a},array:function(a){return null===a?null:o(a)===D?a:f},object:function(a){return null===a?null:o(a)===M?a:f}},i(h,{map:t,DataSource:q,DataQuery:e,Model:d})}(jQuery,shield,this),function(a,e,s,b){"use strict";function N(){if(f(H))return H;var d,c,b=a('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),e=b.children()[0];return a(g.body).append(b),d=e.offsetWidth,b.css(ma,D),c=e.offsetWidth,d===c&&(c=b[0].clientWidth),b.remove(),H=d-c}function Fa(a){var b=a.isWindow||a.isDocument?"":a.element.css(oa),c=a.isWindow||a.isDocument?"":a.element.css(pa),d=b===D||b===ka&&a.width<a.element[0].scrollWidth,e=c===D||c===ka&&a.height<a.element[0].scrollHeight;return{width:e?N():0,height:d?N():0}}function fa(e){var b=a(e||s),c=ea(b[0]),d=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:d,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c||d?b.width():b.outerWidth(),height:c||d?b.height():b.outerHeight()}}function ia(a,b,c){return[M(a[0])*(S.test(a[0])?b/100:1),M(a[1])*(S.test(a[1])?c/100:1)]}function d(b,c){var a=b.css(c);return a?Aa(a)||0:0}function Ea(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:ea(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}function T(c,e){var b=0,g=f(e)?a(e).find(c):a(c);return g.each(function(c){b=i(b,d(a(this),"z-index"))}),b}var H,w,y,z,x,o,K,ca,E,ga,r=e.ui.Widget,Da=(e.Class,e.Constants.KeyCode),g=document,c=Math.abs,C=Math.min,i=Math.max,V=Math.round,Z=Math.floor,$=a.extend,m=a.proxy,da=a.each,ea=a.isWindow,f=e.is.defined,I=e.is.func,Ca=e.is.number,Ba=e.is.object,Aa=e.to["int"],M=e.to.number,sa=e.to.string,O=/left|center|right/,P=/top|center|bottom/,Q=/[\+\-]\d+(\.[\d]+)?%?/,la=/^\w+/,S=/%$/,n="mousedown",A="mouseup",p="mousemove",W="keydown",X="start",Y="stop",ra="resize",qa="resized",na="drag",wa="cancel",ba="disabled",l="px",j="left",v="right",k="top",u="bottom",ha="middle",h="center",ma="overflow",ka="auto",t="position",aa="absolute",_="relative",oa="overflow-x",pa="overflow-y",D="scroll",G="horizontal",J="vertical",ta="my",ua="at",va="marginLeft",Ga="marginRight",xa="marginTop",ya="marginBottom",za="flip",F="sui-resizable",ja=F+"-"+ba,q="sui-draggable",L=q+"-"+ba,R=q+"-dragging",B="sui-unselectable",U=0;z={},z.GetWithinInfo=fa,z.GetMaxZIndex=T,e.ui.Util=z,w=function(){return U++,y?y:(this.init(),void(y=this))},w.prototype={_pos:null,init:function(){var b=this;a(g).on(p+".suiMouseTracker",m(b._onMouseMove,b))},_onMouseMove:function(a){this._pos=this.getPosFromEvent(a)},getPosFromEvent:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+g.body.scrollLeft-g.body.clientLeft,y:a.clientY+g.body.scrollTop-g.body.clientTop}},getPosition:function(b){var a=this;return null===a._pos&&f(b)&&(a._pos=a.getPosFromEvent(b)),a._pos},isInWindow:function(g){var h=this,b=h.getPosition(g),c=b.x,d=b.y,e=a(s).scrollTop(),f=a(s).scrollLeft();return c>=f&&c<=f+a(s).width()&&d>=e&&d<=e+a(s).height()},destroy:function(){--U>0||(a(g).off(p+".suiMouseTracker"),y=null)}},e.MouseTracker=w,x={},x.Set=function(H,B,n){if(!H||!B||!n)throw"Invalid arguments passed to Position.Set";var s,g,l,r,m,w,e={my:n.source,at:n.target,collision:n.overflow,inside:n.inside},A=a(B),D=fa(e.inside),C=Fa(D),t=(e.collision||za).split(" "),y={};w=Ea(A),A[0].preventDefault&&(e.at="left top"),g=w.width,l=w.height,r=w.offset,m=$({},r),da([ta,ua],function(){var b,c,d=this,a=(e[d]||"").split(" ");1===a.length&&(a=O.test(a[0])?a.concat([h]):P.test(a[0])?[h].concat(a):[h,h]),a[0]=O.test(a[0])?a[0]:h,a[1]=P.test(a[1])?a[1]:h,b=Q.exec(a[0]),c=Q.exec(a[1]),y[d]=[b?b[0]:0,c?c[0]:0],e[d]=[la.exec(a[0])[0],la.exec(a[1])[0]]}),1===t.length&&(t[1]=t[0]),e.at[0]===v?m.left+=g:e.at[0]===h&&(m.left+=g/2),e.at[1]===u?m.top+=l:e.at[1]===h&&(m.top+=l/2),s=ia(y.at,g,l),m.left+=s[0],m.top+=s[1];var E,z,f=a(H),q=f.outerWidth(),p=f.outerHeight(),K=d(f,va),F=d(f,xa),M=q+K+d(f,Ga)+C.width,L=p+F+d(f,ya)+C.height,b=$({},m),x=ia(y.my,f.outerWidth(),f.outerHeight());e.my[0]===v?b.left-=q:e.my[0]===h&&(b.left-=q/2),e.my[1]===u?b.top-=p:e.my[1]===h&&(b.top-=p/2),b.left+=x[0],b.top+=x[1],b.left=V(b.left),b.top=V(b.top),E={marginLeft:K,marginTop:F},da([j,k],function(a,c){o[t[a]]&&o[t[a]][c](b,{targetWidth:g,targetHeight:l,elemWidth:q,elemHeight:p,collisionPosition:E,collisionWidth:M,collisionHeight:L,offset:[s[0]+x[0],s[1]+x[1]],my:e.my,at:e.at,within:D,elem:f})}),I(n.callback)&&(z=function(){var d=r.left-b.left,m=d+g-q,e=r.top-b.top,o=e+l-p,a={target:{element:A,left:r.left,top:r.top,width:g,height:l},element:{element:f,left:b.left,top:b.top,width:q,height:p},horizontal:0>m?j:d>0?v:h,vertical:0>o?k:e>0?u:ha};q>g&&c(d+m)<g&&(a.horizontal=h),p>l&&c(e+o)<l&&(a.vertical=ha),i(c(d),c(m))>i(c(e),c(o))?a.important=G:a.important=J,n.callback(a)}),f.offset(b),z&&z()},o={fit:{left:function(a,c){var j,f=c.within,d=f.isWindow?f.scrollLeft:f.offset.left,g=f.width,h=a.left-c.collisionPosition.marginLeft,b=d-h,e=h+c.collisionWidth-g-d;c.collisionWidth>g?b>0&&0>=e?(j=a.left+b+c.collisionWidth-g-d,a.left+=b-j):e>0&&0>=b?a.left=d:b>e?a.left=d+g-c.collisionWidth:a.left=d:b>0?a.left+=b:e>0?a.left-=e:a.left=i(a.left-h,a.left)},top:function(a,b){var j,g=b.within,d=g.isWindow?g.scrollTop:g.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,c=d-h,e=h+b.collisionHeight-f-d;b.collisionHeight>f?c>0&&0>=e?(j=a.top+c+b.collisionHeight-f-d,a.top+=c-j):e>0&&0>=c?a.top=d:c>e?a.top=d+f-b.collisionHeight:a.top=d:c>0?a.top+=c:e>0?a.top-=e:a.top=i(a.top-h,a.top)}},flip:{left:function(d,a){var i,h,b=a.within,p=b.offset.left+b.scrollLeft,l=b.width,k=b.isWindow?b.scrollLeft:b.offset.left,m=d.left-a.collisionPosition.marginLeft,n=m-k,o=m+a.collisionWidth-l-k,e=a.my[0]===j?-a.elemWidth:a.my[0]===v?a.elemWidth:0,g=a.at[0]===j?a.targetWidth:a.at[0]===v?-a.targetWidth:0,f=-2*a.offset[0];0>n?(i=d.left+e+g+f+a.collisionWidth-l-p,(0>i||i<c(n))&&(d.left+=e+g+f)):o>0&&(h=d.left-a.collisionPosition.marginLeft+e+g+f-k,(h>0||c(h)<o)&&(d.left+=e+g+f))},top:function(b,a){var l,j,f=a.within,p=f.offset.top+f.scrollTop,n=f.height,m=f.isWindow?f.scrollTop:f.offset.top,o=b.top-a.collisionPosition.marginTop,h=o-m,i=o+a.collisionHeight-n-m,q=a.my[1]===k,e=q?-a.elemHeight:a.my[1]===u?a.elemHeight:0,d=a.at[1]===k?a.targetHeight:a.at[1]===u?-a.targetHeight:0,g=-2*a.offset[1];0>h?(j=b.top+e+d+g+a.collisionHeight-n-p,b.top+e+d+g>h&&(0>j||j<c(h))&&(b.top+=e+d+g)):i>0&&(l=b.top-a.collisionPosition.marginTop+e+d+g-m,b.top+e+d+g>i&&(l>0||c(l)<i)&&(b.top+=e+d+g))}},flipfit:{left:function(){o.flip.left.apply(this,arguments),o.fit.left.apply(this,arguments)},top:function(){o.flip.top.apply(this,arguments),o.fit.top.apply(this,arguments)}}},e.ui.Position=x,ga={enabled:!0,cls:b,resizeCls:b,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:b,maxWidth:b,events:{}},E=r.extend({init:function(){r.fn.init.apply(this,arguments);var b=this,e=a(b.element),c=b.options,d=c.cls;b.mouseTracker=new w,e.addClass(F+(d?" "+d:"")),b._initHandles(),b.enabled(c.enabled)},_initHandles:function(){var h,d,e,b=this,o=a(b.element),r=(o.width(),o.height()),j=b.options,q=j.handles,k=j.handleWidth,i=k+l,f=k+2+l,c="-"+(k-2)+l,s=j.handleZIndex;for(b.handles=[],e=0;e<q.length;e++){switch(h=sa(q[e]).toLowerCase(),d={},h){case"e":d={width:i,height:r+l,top:0,right:c};break;case"w":d={width:i,height:r+l,top:0,left:c};break;case"n":d={width:"100%",height:i,top:c};break;case"s":d={width:"100%",height:i,bottom:c};break;case"se":d={width:f,height:f,bottom:c,right:c};break;case"sw":d={width:f,height:f,bottom:c,left:c};break;case"ne":d={width:f,height:f,top:c,right:c};break;case"nw":d={width:f,height:f,top:c,left:c}}d.zIndex=s,b.handles[e]={type:h},b.handles[e][n]=m(b._handleMouseDown,b,e),b.handles[e].element=a('<div class="sui-resizable-handle sui-resizable-dir-'+h+'"></div>').appendTo(o).css(d).on(n,b.handles[e][n])}a(g).on(A+".shieldResizable"+b.getInstanceId(),m(b._handleMouseUp,b)),a(g).on(p+".shieldResizable"+b.getInstanceId(),m(b._handleMouseMove,b))},_destroyHandles:function(){var c,b=this,d=b.handles;for(a(g).off(A+".shieldResizable"+b.getInstanceId()),a(g).off(p+".shieldResizable"+b.getInstanceId()),c=0;c<d.length;c++)a(b.handles[c].element).off(n,b.handles[c][n]).remove();b.handles=[]},_handleMouseDown:function(c,d){var b=this;b._enabled&&!b.resizing&&(b.resizing=!0,b.resizingHandle=c,b.oldPos=b.mouseTracker.getPosition(d),b.startSent=!1,a(b.element).addClass(B))},_handleMouseMove:function(G){var s,x,y,n,m,e,b,i,h,v,w,q,o,t,g=this,p=a(g.element),r=g.options,u=r.delta,z=r.minWidth,A=r.maxWidth,B=r.minHeight,C=r.maxHeight,E=r.resizeCls,F=g.resizingHandle,D=g.handles,H=g.mouseTracker,I=g.oldPos;if(H.isInWindow(G)&&g.resizing&&f(F)&&(y=H.getPosition(G),n=y.x-I.x,m=y.y-I.y,s=D[F],x=s.type,c(n)>=u||c(m)>=u)){switch(/^(se|sw|ne|nw)$/i.test(x)||(/^(e|w)$/i.test(x)?m=0:n=0),c(n)<u&&(n=0),c(m)<u&&(m=0),e=n,b=m,i=0,h=0,x){case"w":e=-n,i=-e;break;case"n":b=-m,h=-b;break;case"nw":e=-n,b=-m,i=-e,h=-b;break;case"sw":e=-n,i=-e;break;case"ne":b=-m,h=-b}if(q=p.width(),o=p.height(),v=d(p,k),w=d(p,j),e>0?(f(A)&&q+e>A&&(e=A-q,0!==i&&(i=-e)),0>w+i&&(e-=w-i,i=-e)):0>e&&f(z)&&z>q+e&&(e=z-q,0!==i&&(i=-e)),b>0?(f(C)&&o+b>C&&(b=C-o,0!==h&&(h=-b)),0>v+h&&(b-=v-h,h=-b)):0>b&&f(B)&&B>o+b&&(b=B-o,0!==h&&(h=-b)),0!==e||0!==b){g.startSent||(g.startSent=!0,g.trigger(X),E&&p.addClass(E));var J=g.trigger(ra,{deltaX:e,deltaY:b});if(!J.isDefaultPrevented()){if(p.width(q+e).height(o+b),(0!==i||0!==h)&&p.css({top:v+h+l,left:w+i+l}),g.oldPos.x=g.oldPos.x+n,g.oldPos.y=g.oldPos.y+m,0!==m)for(t=0;t<D.length;t++)s=D[t],/^(e|w)$/i.test(s.type)&&a(s.element).height(o+b);g.trigger(qa)}}}},_handleMouseUp:function(f){var c=this,e=!!c.startSent,d=c.options.resizeCls;c.resizing&&(c.resizing=!1,c.resizingHandle=b,c.oldPos=b,c.startSent=!1,e&&c.trigger(Y),a(c.element).removeClass(B+(d?" "+d:"")))},resize:function(c,d){var e=this,b=e.options;c=i(C(c,b.maxWidth),b.minWidth),d=i(C(d,b.maxHeight),b.minHeight),a(e.element).width(c).height(d)},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeClass(ja):d.addClass(ja),c._enabled=b,void 0):c._enabled},destroy:function(){var b=this,c=b.options.cls;b.mouseTracker.destroy(),b.mouseTracker=null,a(b.element).removeClass(F+(c?" "+c:"")),b._destroyHandles(),r.fn.destroy.call(b)}}),E.defaults=ga,e.ui.plugin("Resizable",E),ca={enabled:!0,cls:b,dragCls:b,handle:b,direction:b,min:b,max:b,step:b,allowedPositions:b,stack:!0,helper:b,events:{}},K=r.extend({init:function(){r.fn.init.apply(this,arguments);var c,b=this,d=a(b.element),e=b.options,f=e.cls;b.mouseTracker=new w,d.addClass(q+(f?" "+f:"")),c=d.css(t),c!==_&&c!==aa&&(b._origPosStyle=c,d.css(t,_)),b.enabled(e.enabled),b.startSent=!1},_handleMouseDown:function(i){var c,b=this,f=b.element,h=b.options,e=h.helper,l=h.cls,n=h.dragCls;b._enabled&&!b._dragging&&(b._dragging=!0,b.startSent=!1,b._helper=b._isCustomHelper=null,b.stepPosition=b.mousePos=b.mouseTracker.getPosition(i),a(g).on(p+".shieldDraggable"+b.getInstanceId(),m(b._handleMouseMove,b)).on(A+".shieldDraggable"+b.getInstanceId(),m(b._handleMouseUp,b)).on(W+".shieldDraggable"+b.getInstanceId(),m(b._handleKeyDown,b)),e&&"original"!==e?(c=I(e)?e.call(b,{position:b.oriPosition,event:i}):"clone"==e?f.clone():a(e),c.parents("body").length||f.after(c),/(fixed|absolute)/i.test(c.css(t))||c.css(t,aa),x.Set(c,f,{source:"left top",target:"left top",overflow:"none"}),b._isCustomHelper=!0):(c=f,b._isCustomHelper=!1),b._helper=c,c.addClass(B+" "+q+(l?" "+l:"")+" "+R+(n?" "+n:"")),b.oriPosition={left:d(c,j),top:d(c,k)})},_handleMouseMove:function(A){var u,p,o,z,y,l,m,g,h,e=this,n=a(e._helper),R=n.width(),Q=n.height(),x=e.options,B=x.step,F=x.direction,q=x.allowedPositions,S=q!==b&&q.length>0,t=x.min,s=x.max,P=e.mouseTracker,v=P.getPosition(A);if(P.isInWindow(A)&&e._dragging){if(z=d(n,k),y=d(n,j),S){var N,O,H,K,w,r,E=b,D=b,L=b,M=b;for(N=v.x-e.stepPosition.x,O=v.y-e.stepPosition.y,H=y+N,K=z+O,w=0;w<q.length;w++)r=q[w],r.x!==b&&(L===b||L>c(H-r.x))&&(L=c(H-r.x),E=w),r.y!==b&&(M===b||M>c(K-r.y))&&(M=c(K-r.y),D=w);l=y,m=z,E!==b&&(l=q[E].x,e.stepPosition.x+=q[E].x-y),D!==b&&(m=q[D].y,e.stepPosition.y+=q[D].y-z)}else{if(g=F==J?0:v.x-e.mousePos.x,h=F==G?0:v.y-e.mousePos.y,f(B)){if(u=I(B)?B.call(this,{deltaX:g,deltaY:h,element:n,domEvent:A,helperLeft:d(n,j),helperTop:d(n,k),mouse:v}):B,Ca(u)?p=o=u:Ba(u)&&(p=u.x,o=u.y),f(p)&&c(g)<p&&f(o)&&c(h)<o)return;f(p)&&p>1&&g%p!==0&&(g=(g>=0?1:-1)*Z(c(g)/p)*p),f(o)&&o>1&&h%o!==0&&(h=(h>=0?1:-1)*Z(c(h)/o)*o)}l=y+g,m=i(0,z+h)}F==G&&(t!==b&&(l=i(t,l),l===t&&(g=0)),s!==b&&(l=C(s-R,l),l===s-R&&(g=0))),F==J&&(t&&(m=i(t,m),m===t&&(h=0)),s&&(m=C(s-Q,m),m===s-Q&&(h=0))),n.css({left:l,top:m}),e.mousePos=v,e.startSent||(e.startSent=!0,e.trigger(X,{element:n,domEvent:A}),e._adjustZIndex()),e.trigger(na,{deltaX:g,deltaY:h,element:n,domEvent:A})}},_handleMouseUp:function(f){var c,a=this,e=a.element,b=a._helper;a._dragging&&(a.startSent&&(c=a.trigger(Y,{left:d(b,j),top:d(b,k),element:b,domEvent:f}),c.isDefaultPrevented()?a._isCustomHelper||b.css({left:a.oriPosition.left,top:a.oriPosition.top}):a._isCustomHelper&&(x.Set(e,b,{source:"left top",target:"left top",overflow:"none"}),a._adjustZIndex(e))),a._endDrag())},_adjustZIndex:function(b){var d=this,c=d.options.stack;c!==!1&&(f(b)||(b=d._helper),a(b).css("z-index",T(c===!0?"."+q:c)+1))},_handleKeyDown:function(b){var a=this,c=b.keyCode;switch(c){case Da.ESC:a._dragging&&(a._helper.css({left:a.oriPosition.left+l,top:a.oriPosition.top+l}),a.trigger(wa),a._endDrag())}},_endDrag:function(){var b=this,c=b.options.dragCls;b._dragging=!1,b._isCustomHelper?a(b._helper).remove():a(b._helper).removeClass(B+" "+R+(c?" "+c:"")),a(g).off(p+".shieldDraggable"+b.getInstanceId()).off(A+".shieldDraggable"+b.getInstanceId()).off(W+".shieldDraggable"+b.getInstanceId()),b.mousePos=b.oriPosition=b._helper=b._isCustomHelper=null},enabled:function(){var c,b=this,d=a(b.element),e=b.options,f=e.handle?a(e.handle):d,g=[].slice.call(arguments);return g.length>0?(c=!!g[0],c?(d.removeClass(L),b._mouseDownProxy||(b._mouseDownProxy=m(b._handleMouseDown,b),f.on(n,b._mouseDownProxy))):(d.addClass(L),b._mouseDownProxy&&(f.off(n,b._mouseDownProxy),b._mouseDownProxy=null)),b._enabled=c,void 0):b._enabled},destroy:function(){var b=this,c=b.options.cls;b.mouseTracker.destroy(),b.mouseTracker=null,a(b.element).removeClass(q+(c?" "+c:"")),b._origPosStyle&&(a(b.element).css(t,b._origPosStyle),b._origPosStyle=null),r.fn.destroy.call(b)}}),K.defaults=ca,e.ui.plugin("Draggable",K)}(jQuery,shield,this);
shield.version='1.7.10';